(function(e){function t(t){for(var s,a,l=t[0],c=t[1],u=t[2],p=0,g=[];p<l.length;p++)a=l[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&g.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);i&&i(t);while(g.length)g.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},r={app:0},o=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var i=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0801":function(e,t,n){e.exports=n.p+"img/Logo.87393409.svg"},"1d73":function(e,t,n){"use strict";n("4876")},4876:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("7a23");const r=Object(s["f"])("div",{id:"nav"},null,-1);function o(e,t){const n=Object(s["u"])("router-view");return Object(s["q"])(),Object(s["e"])(s["a"],null,[r,Object(s["g"])(n)],64)}const a={};a.render=o;var l=a,c=n("6c02"),u=n("0801"),i=n.n(u);const p={id:"login"},g={class:"left-half"},d={class:"center"},b=Object(s["f"])("div",{class:"center-h logo-block"},[Object(s["f"])("img",{src:i.a}),Object(s["f"])("h1",null,"Put yourself to another world")],-1),f={class:"input-block"},O={class:"center-h"},j=Object(s["f"])("div",{class:"divided"},[Object(s["f"])("span"),Object(s["f"])("span",{class:"divider"}),Object(s["f"])("span")],-1),m={class:"center-h panel-create-account"},h=Object(s["f"])("div",{class:"right-half"},null,-1);function v(e,t){return Object(s["q"])(),Object(s["e"])("div",p,[Object(s["f"])("div",g,[Object(s["f"])("div",d,[b,Object(s["f"])("div",f,[e.is_sign_up?Object(s["A"])((Object(s["q"])(),Object(s["e"])("input",{key:0,class:"input is-large panel-input",type:"text",name:"name","onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),placeholder:"Full name"},null,512)),[[s["y"],e.name]]):Object(s["d"])("",!0),Object(s["A"])(Object(s["f"])("input",{class:"input is-large panel-input",type:"text",name:"email","onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),placeholder:"Email"},null,512),[[s["y"],e.email]]),Object(s["A"])(Object(s["f"])("input",{class:"input is-large panel-input",type:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),placeholder:"Password"},null,512),[[s["y"],e.password]]),e.message?(Object(s["q"])(),Object(s["e"])("div",{key:1,class:Object(s["m"])(["alert",e.successful?"alert-success":"alert-danger"]),style:{color:"red"}},Object(s["w"])(e.message),3)):Object(s["d"])("",!0)]),Object(s["f"])("div",O,[Object(s["f"])("button",{class:"plate-button button is-large",type:"button",onClick:t[3]||(t[3]=(...t)=>e.enter&&e.enter(...t))},Object(s["w"])(e.buttonValue()),1)]),j,Object(s["f"])("div",m,[Object(s["f"])("h2",null,Object(s["w"])(e.backToValue()),1),Object(s["f"])("button",{onClick:t[4]||(t[4]=t=>e.is_sign_up=!e.is_sign_up)},Object(s["w"])(e.changerValue()),1)])])]),h])}var y=n("bc3a"),w=n.n(y),_={name:"Login",data(){return{email:"",name:"",password:"",errorMsg:"",loading:!1,message:"",is_sign_up:!1}},methods:{enter(){console.log("aboba"),this.$store.dispatch("auth/login",{email:this.email,password:this.password}).then(()=>{this.$router.push("/")},e=>{this.loading=!1,this.message="*"+(e.response&&e.response.data&&e.response.data.message)||!1})},backToValue(){return console.log("/"),this.is_sign_up?"Already have an account?":"Dont't have account yet?"},changerValue(){return this.is_sign_up?"Log in!":"Create!"},buttonValue(){return this.is_sign_up?"Sign up!":"Log in!"}}};n("1d73");_.render=v;var S=_;const P=[{path:"/login",name:"Login",component:S}],k=Object(c["a"])({history:Object(c["b"])("/"),routes:P});var I=k,x=n("5502");const V="http://127.0.0.1:8000/api/";class F{login(e){return w.a.post(V+"login",e).then(e=>(e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data))}logout(){localStorage.removeItem("user")}register(e){return w.a.post(V+"signup",e)}}var L=new F;const M=JSON.parse(localStorage.getItem("user")),T=M?{status:{loggedIn:!0},user:M}:{status:{loggedIn:!1},user:null},q={namespaced:!0,state:T,actions:{login({commit:e},t){return L.login(t).then(t=>(e("loginSuccess",t),Promise.resolve(t)),t=>(e("loginFailure"),Promise.reject(t)))},logout({commit:e}){L.logout(),e("logout")},register({commit:e},t){return L.register(t).then(t=>(e("registerSuccess"),Promise.resolve(t.data)),t=>(e("registerFailure"),Promise.reject(t)))}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1}}},A=Object(x["a"])({modules:{auth:q}});var J=A;Object(s["c"])(l).use(I).use(J).mount("#app"),n("b383")},b383:function(e,t,n){}});
//# sourceMappingURL=app.9aaf0a21.js.map